{"version":3,"file":"static/js/961.9a8a88a3.chunk.js","mappings":"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","sources":["pages/MovieDetails/MovieDetails.jsx","services/api.js","webpack://react-homework-template/./src/pages/MovieDetails/MovieDetails.module.css?0c24"],"sourcesContent":["import { Suspense, useEffect, useRef, useState } from 'react';\nimport { Link, Outlet, useLocation, useParams } from 'react-router-dom';\nimport { fetchMovieDetails } from 'services/api';\nimport style from './MovieDetails.module.css';\n\nconst defaultImg = 'https://cleanshop.ru/i/no_image.gif';\n\nconst MovieDetails = () => {\n  const { movieId } = useParams();\n\n  const location = useLocation();\n  const backLink = useRef(location.state?.from || '/');\n\n  const [movieDetails, setMovieDetails] = useState(null);\n  useEffect(() => {\n    const getDetails = async () => {\n      try {\n        const detailsOfMovie = await fetchMovieDetails(movieId);\n        setMovieDetails(detailsOfMovie);\n        console.log(detailsOfMovie);\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    getDetails();\n  }, [movieId]);\n\n  return (\n    movieDetails && (\n      <section className={style['movie_details_section']}>\n        <Link className={style['movie_details_link']} to={backLink.current}>\n          ↩️ Go Back\n        </Link>\n\n        <div className={style['movie_details_img_wrapper']}>\n          <img\n            className={style['movie_details_img']}\n            width=\"230\"\n            height=\"300\"\n            src={\n              movieDetails.poster_path\n                ? `https://image.tmdb.org/t/p/original${movieDetails.poster_path}`\n                : defaultImg\n            }\n            alt={movieDetails.title}\n          />\n        </div>\n\n        <div className={style['movie_details_info_wrapper']}>\n          <h1 className={style['movie_details_title']}>\n            {movieDetails.title}({parseInt(movieDetails.release_date)})\n          </h1>\n          <p className={style['movie_details_score']}>\n            User Score:{parseInt(movieDetails.vote_average * 10)}%\n          </p>\n          {movieDetails.overview !== '' && (\n            <h2 className={style['movie_details_overview_title']}>Overview</h2>\n          )}\n          <p className={style['movie_details_overview']}>\n            {movieDetails.overview}\n          </p>\n          {movieDetails.genres.length !== 0 && (\n            <h2 className={style['movie_details_genre_title']}>Genres</h2>\n          )}\n          <ul className={style['movie_details_list']}>\n            {movieDetails.genres.map(genre => {\n              return (\n                <li className={style['movie_details_list_item']} key={genre.id}>\n                  {genre.name}\n                </li>\n              );\n            })}\n          </ul>\n        </div>\n        <ul className={style['movie_details_links_list']}>\n          <li className={style['movie_details_links_list_item']}>\n            <Link to={'cast'}>Cast</Link>\n          </li>\n          <li className={style['movie_details_links_list_item']}>\n            <Link to={'review'}>Review</Link>\n          </li>\n        </ul>\n        <Suspense fallback={<p>Loading...</p>}>\n          <Outlet />\n        </Suspense>\n      </section>\n    )\n  );\n};\n\nexport default MovieDetails;\n","import axios from 'axios';\n\nconst API_KEY = 'a4e0e6c94492c515df52f4a6ebcc54c7';\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\n\nconst params = {\n  params: {\n    api_key: API_KEY,\n  },\n};\n\nexport const fetchTrendingMovies = async () => {\n  const response = await axios.get(`/trending/movie/day`, params);\n  return response.data.results;\n};\n\nexport const fetchMovieDetails = async movieId => {\n  const response = await axios.get(`/movie/${movieId}`, params);\n\n  return response.data;\n};\n\nexport const handleSearch = async movieName => {\n  const response = await axios.get(`/search/movie?query=${movieName}`, params);\n  return response.data.results;\n};\n\nexport const fetchMovieCast = async movieId => {\n  const response = await axios.get(`movie/${movieId}/credits`, params);\n\n  return response.data.cast;\n};\n\nexport const fetchMovieReviews = async movieId => {\n  const response = await axios.get(`movie/${movieId}/reviews?`, params);\n\n  return response.data.results;\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"movie_details_section\":\"MovieDetails_movie_details_section__9X-xZ\",\"movie_details_link\":\"MovieDetails_movie_details_link__OJ3Q-\",\"movie_details_img_wrapper\":\"MovieDetails_movie_details_img_wrapper__ixh3h\",\"movie_details_img\":\"MovieDetails_movie_details_img__da-Xp\",\"movie_details_info_wrapper\":\"MovieDetails_movie_details_info_wrapper__W1mQ7\",\"movie_details_title\":\"MovieDetails_movie_details_title__dWf9E\",\"movie_details_score\":\"MovieDetails_movie_details_score__B+C-f\",\"movie_details_overview_title\":\"MovieDetails_movie_details_overview_title__h7dCc\",\"movie_details_genre_title\":\"MovieDetails_movie_details_genre_title__8PZPI\",\"movie_details_overview\":\"MovieDetails_movie_details_overview__rYKZm\",\"movie_details_list\":\"MovieDetails_movie_details_list__ODRHo\",\"movie_details_list_item\":\"MovieDetails_movie_details_list_item__nS01z\",\"movie_details_links_list\":\"MovieDetails_movie_details_links_list__wOYED\",\"movie_details_links_list_item\":\"MovieDetails_movie_details_links_list_item__febIQ\"};"],"names":["movieId","useParams","location","useLocation","backLink","useRef","state","from","useState","movieDetails","setMovieDetails","useEffect","getDetails","fetchMovieDetails","detailsOfMovie","console","log","className","style","to","current","width","height","src","poster_path","alt","title","parseInt","release_date","vote_average","overview","genres","length","map","genre","name","id","Suspense","fallback","axios","params","api_key","fetchTrendingMovies","response","data","results","handleSearch","movieName","fetchMovieCast","cast","fetchMovieReviews"],"sourceRoot":""}